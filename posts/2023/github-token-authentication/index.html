<!doctype html><html lang=en-gb><head><meta name=author content="Edmund Goodman"><meta name=description content="The personal website for Edmund Goodman"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/images/favicon.ico sizes=any type=image/x-icon><title>Github Token Authentication | Edmund Goodman</title><link rel=stylesheet href=https://edmundgoodman.github.io/scss/main.min.css></head><body><nav><ul class=nav-menu><li class="nav-item nav-home"><a href=/>Home</a></li><li class="nav-item nav-elided"><a href=/about/>About</a></li><li class="nav-item nav-elided"><a href=/posts/>Blog</a></li><li class=nav-item><a href=/atlas/>Atlas</a></li></ul></nav><main><header><h1>Github Token Authentication</h1><div class=post-meta><svg width="1.25em" height="1.25em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-bottom:-.3em"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 7a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V7z"/><path d="M16 3v4"/><path d="M8 3v4"/><path d="M4 11h16"/><path d="M7 14h.013"/><path d="M10.01 14h.005"/><path d="M13.01 14h.005"/><path d="M16.015 14h.005"/><path d="M13.015 17h.005"/><path d="M7.01 17h.005"/><path d="M10.01 17h.005"/></svg>
<time datetime=2023-10-03>Oct 3, 2023</time>
&nbsp;&bull;&nbsp;
<svg width="1.25em" height="1.25em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-bottom:-.3em"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 12a9 9 0 1018 0A9 9 0 003 12"/><path d="M12 7v5l3 3"/></svg>
4 minutes</div><br></header><article><div class="admonition warning"><div class=admonition-title>Better approaches to credential management</div><div class=admonition-content><p>Since I wrote the guide, I have switched from using personal access tokens to
SSH keys for authentication. This avoids the requirement of storing plaintext
tokens locally &ndash; instead using a revocable password-protected SSH key.
Additionally, on MacOS, the password can be stored in the user keychain, so is
not prompted each time. This process is documented
<a href=https://edmundgoodman.github.io/posts/2024/github-ssh-authentication/>in later blog post</a>.</p></div></div><div class="admonition note"><div class=admonition-title>A note on provenance</div><div class=admonition-content><p>I originally wrote <a href=https://uwcs.co.uk/resources/github-token-authentication/>this guide</a> for the University of Warwick Computing Society to pre-empt common issues when authenticating to GitHub from the command line during academic workshops, such as <a href=https://uwcs.co.uk/resources/git-good/>Git Good</a>.</p></div></div><h2 id=why-do-i-need-to-do-this>Why do I need to do this?</h2><p>For ✨security✨&mldr;</p><p>From August 2021, GitHub announced they would not be allowing password
authentication when using the command line <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>. This means that in order to
interact with GitHub from the command line you have to create an &ldquo;authentication
token&rdquo;.</p><h2 id=what-are-authentication-tokens>What are authentication tokens?</h2><blockquote><p>An Authentication Token (auth token) is a piece of information that verifies the
identity of a user to a website, server, or anyone requesting verification of the
user’s identity.</p><p>&ndash; <em>Twilio</em> <sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></p></blockquote><p>There are a number of different types of authentication tokens, including personal access tokens and SSH keys.</p><h2 id=using-personal-access-tokens>Using personal access tokens</h2><p>Personal access tokens are randomly generated strings which can be used in
place of passwords, but can be configured to expire, are easily revoked if
exposed, and can have restricted scope.</p><h3 id=how-do-i-create-an-personal-access-token>How do I create an personal access token?</h3><p>The process for creating and using SSH keys is enumerated in the <a href=https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens#creating-a-personal-access-token-classic>GitHub documentation</a>,
and summarised below.</p><p>First, visit <a href=https://github.com/settings/tokens>https://github.com/settings/tokens</a>. This can also be found by navigating
to &ldquo;Settings>Developer Settings>Personal access tokens>Tokens (classic)&rdquo;</p><p>You can then create a new token with the &ldquo;Generate new token (classic)&rdquo; button. You can
also create fine-grained tokens for individual repositories, but for general use classic
tokens are easier.</p><figure><img src=/images/posts/github_token_authentication/generate_token.png alt="Screenshot of the button to generate a new token." id=figure-1><figcaption><p><strong>Figure 1: </strong>Screenshot of the button to generate a new token.</p></figcaption></figure><p>After you have pressed this button, you may be prompted for 2-factor authentication.
Once you have authenticated, you should see a screen like this:</p><figure><img src=/images/posts/github_token_authentication/new_personal_token.png alt="Screenshot of the screen to create a new token." id=figure-2><figcaption><p><strong>Figure 2: </strong>Screenshot of the screen to create a new token.</p></figcaption></figure><p>There are three things you want to set here:</p><ol><li>Give your token a meaningful name! For example, the name of the machine where
it will be used, and what it will be used for. This also implies the good
practice of not re-using tokens, meaning revoking them is a low-cost operation.</li><li>Set an appropriate expiry date for your token.</li><li>Select the scopes for the token. A possible general set of scopes for common tasks is:<ul><li><code>repo</code></li><li><code>workflow</code></li><li><code>user</code></li></ul></li></ol><p>Once you have set all these fields, click the green &ldquo;Generate token&rdquo; button at the
bottom of the page. After the button is pressed a screen like this should be shown:</p><figure><img src=/images/posts/github_token_authentication/created_token.png alt="Screenshot of the screen once a new token is created." id=figure-3><figcaption><p><strong>Figure 3: </strong>Screenshot of the screen once a new token is created.</p></figcaption></figure><p>The generated token should start with a <code>ghp_</code> prefix.</p><div class="admonition note"><div class=admonition-title>Note</div><div class=admonition-content><p><strong>You must copy this token now!</strong> You&rsquo;ll never be able to see it again once the page closes.</p></div></div><div class="admonition warning"><div class=admonition-title>Warning</div><div class=admonition-content><p><strong>This token acts like a password! You shouldn&rsquo;t show anyone it, and should revoke
it if anyone sees it</strong>. To revoke a token, click the delete button on the tokens page.</p></div></div><figure><img src=/images/posts/github_token_authentication/delete_token.png alt="Screenshot of the screen to delete a token." id=figure-4><figcaption><p><strong>Figure 4: </strong>Screenshot of the screen to delete a token.</p></figcaption></figure><h3 id=how-do-i-use-it-on-my-computer>How do I use it on my computer?</h3><p>Once you have generated a token, you need to add it to the machine you intend to use it
on. There are various ways to do this, but in this tutorial we will use the git credential
<code>store</code> helper. This stores the token in a plaintext format in your home directory.
This is not an ideal solution, but since the file permissions are set to only be
readable to your user account, and tokens can easily be revoked if compromised, it is
probably an acceptable amount of risk for personal systems. Depending on your threat
vectors and the type of system being used, this may be an unacceptable level of risk,
in which case you should investigate a different storage strategy.</p><p>To store your token, in a terminal type <sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git config --global credential.helper store
</span></span></code></pre></div><p>Then, make a commit or otherwise interact with the GitHub site from the command line.
You will be prompted for your username and password. Enter the email address for your
GitHub account for the username, and paste the token as the password.</p><p>You should then be able to make commits in future without being prompted for your
credentials again.</p><h3 id=what-did-that-just-do>What did that just do?</h3><p>To see where your credentials are stored, in a terminal type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>vim ~/.git-credentials
</span></span></code></pre></div><p>This will open the file, and you should be able to see your email and token in this file.</p><p>You can also confirm the file permissions for this file as readable only by you by
typing in a terminal:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ls -alFh | grep credentials
</span></span></code></pre></div><p>Which should print something similar to:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>-rw-------  1 &lt;username&gt; &lt;username&gt;   85 &lt;date&gt; .git-credentials
</span></span></code></pre></div><h2 id=references>References</h2><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://github.blog/changelog/2021-08-12-git-password-authentication-is-shutting-down/>https://github.blog/changelog/2021-08-12-git-password-authentication-is-shutting-down/</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://www.twilio.com/docs/glossary/what-is-an-authentication-token>https://www.twilio.com/docs/glossary/what-is-an-authentication-token</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p><a href=https://stackoverflow.com/a/64632086>https://stackoverflow.com/a/64632086</a>&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></article></main><footer><p>© 2025 Edmund Goodman | 
<a href=https://github.com/EdmundGoodman/edmundgoodman.github.io>Source</a> | 
<a href=https://creativecommons.org/licenses/by-nc/4.0/>License</a></p></footer></body></html>